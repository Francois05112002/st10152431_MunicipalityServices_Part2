@page
@model st10152431_MunicipalityService.Pages.RegisterModel
@{
    ViewData["Title"] = "Register page";
}

<div class="register-container">

    @if (Model.UserProfile == null)
    {
        <div class="form-blocks" style="display: flex; gap: 32px;">
            <!-- Register Block -->
            <div class="register-block" style="flex:1; border:1px solid #ccc; border-radius:12px; padding:24px;">
                <h2>Register</h2>
                <form method="post">
                    <div>
                        <label asp-for="Input.Name">Name</label>
                        <input asp-for="Input.Name" />
                    </div>
                    <div>
                        <label asp-for="Input.CellphoneNumber">Cellphone Number</label>
                        <input asp-for="Input.CellphoneNumber" />
                    </div>
                    <button type="submit" name="action" value="register">Register</button>
                </form>
            </div>
            <!-- Log-In Block -->
            <div class="login-block" style="flex:1; border:1px solid #ccc; border-radius:12px; padding:24px;">
                <h2>Log In</h2>
                <form method="post">
                    <div>
                        <label asp-for="Input.CellphoneNumber">Cellphone Number</label>
                        <input asp-for="Input.CellphoneNumber" />
                    </div>
                    <button type="submit" name="action" value="login">Log In</button>
                </form>
            </div>
        </div>
    }
    else
    {
        <div class="profile-section" style="border:1px solid #417a4a; border-radius:12px; padding:24px; background:#f6fff6;">
            <h3>Your Profile</h3>
            <p><strong>Name:</strong> @Model.UserProfile.Name</p>
            <p><strong>Cellphone:</strong> @Model.UserProfile.CellphoneNumber</p>
            <p><strong>Issues Reported:</strong> @Model.UserProfile.IssuesReported</p>
            <p><strong>Daily Pulses Completed:</strong> @Model.UserProfile.DailyPulsesCompleted</p>
            <form method="post">
                <button type="submit" name="action" value="logout">Log Out</button>
            </form>
        </div>
    }

    @if (!string.IsNullOrEmpty(Model.Message))
    {
        <div class="message" style="margin-top:16px; color:#b13a3a;">@Model.Message</div>
    }

</div>
